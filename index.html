
<html>
    <head>
        <meta charset="UTF-8">
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <script src='https://d3js.org/d3.v3.min.js'></script>
        <script src="https://www.gstatic.com/firebasejs/4.9.1/firebase.js"></script>
        <script src="https://cdn.firebase.com/libs/firebaseui/3.0.0/firebaseui.js"></script>
        <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.0.0/firebaseui.css"/>
        <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css">
        <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.min.css">
        <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>
        <script type="module" src="app.js"></script>
        <script type="module" src="login.js"></script>
    </head>
    <body>
        <ons-navigator id="loginNavigator" page="welcome.html"></ons-navigator>

        <ons-modal id="modal" direction="up">
            <div style="text-align: center">
                <p>
                    <ons-icon icon="md-spinner" size="28px" spin></ons-icon> Vänta...
                </p>
            </div>
        </ons-modal>
    </body>
</html>


<ons-template id="welcome.html">
    <ons-page>
        <img id="login-logo" src="img/kth-logo-1.png">
        <p> Välkommen till KTHChat! </p>
            <!-- old login div
            <div id="firebaseui-auth-container"></div>
            -->
        <div id="login-form">
            <div><input id="user-login" type="text" class="text-input text-input--underbar" placeholder="@kth.se" value=""></div>
            <div><input id="pwd-login" type="password" class="text-input text-input--underbar" placeholder="Lösenord" value=""></div>
            <ons-button onclick="LOGIN.goLogin();">
                Logga in
            </ons-button>
            <ons-button onclick="LOGIN.showPage('login.html');">
                inget konto?
            </ons-button>
        </div>
    </ons-page>
</ons-template>

<ons-template id="login.html">
    <ons-page>
        <img id="login-logo" src="img/kth-logo-1.png">
        <div id="register-form">
            <p>
                Hej! För att du ska kunna komma åt KTHCHat, så måste du ha en aktiv KTH-mail.
                Ange din mail här och aktivera ditt konto via aktiveringsmailet som du får inom kort!
            </p>
            <div id="error-register"></div>
            <div><input id="user-register" type="text" class="text-input text-input--underbar" placeholder="Användarnamn" value=""></div>
            <div><input id="mail-register" type="text" class="text-input text-input--underbar" placeholder="@kth.se" value=""></div>
            <div><input id="pwd-register" type="password" class="text-input text-input--underbar" placeholder="Lösenord" value=""></div>
            <div><input id="pwd-check-register" type="password" class="text-input text-input--underbar" placeholder="Lösenord igen" value=""></div>
            <ons-button onclick="LOGIN.register()">
                Registrera
            </ons-button>
        </div>
    </ons-page>
</ons-template>


<template id="dialog.html">
  <ons-dialog id="verify-dialog">
    <div style="text-align: center; padding: 10px;">
      <p id="dialog-text">
      </p>

      <p>
        <ons-button onclick="LOGIN.hideDialog('verify-dialog')">Stäng</ons-button>
      </p>
    </div>
  </ons-dialog>
</template>
