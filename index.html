<html>
    <head>
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <script src='https://d3js.org/d3.v3.min.js'></script>
        <script src="https://www.gstatic.com/firebasejs/4.9.1/firebase.js"></script>
        <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css">
        <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.min.css">
        <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>
        <script>
           if (window.hyper) { console.log = hyper.log }
           ons.platform.select('ios')
           //ons.platform.select('android')
        </script>
        <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyDtbCaRrJDi1WywsroMRWbagl9-rWLUlE0",
            authDomain: "dh2400-81a1f.firebaseapp.com",
            databaseURL: "https://dm2518-e6d19.firebaseio.com",
            projectId: "dm2518-e6d19",
            storageBucket: "dm2518-e6d19.appspot.com",
            messagingSenderId: "872642898861"
        };
        firebase.initializeApp(config);
    </script>


    </head>
    <body>

        <!-- loaf facebook sdk for login -->
        <!--
        <script>


            (function(d, s, id){
                var js, fjs = d.getElementsByTagName(s)[0];
                if (d.getElementById(id)) {return;}
                js = d.createElement(s); js.id = id;
                js.src = "https://connect.facebook.net/en_US/sdk.js";
                fjs.parentNode.insertBefore(js, fjs);
            }(document, 'script', 'facebook-jssdk'));
        </script>
    -->


        <ons-navigator id="appNavigator" page="login.html"></ons-navigator>

        <!-- Onsen templates -->

        <ons-template id="login.html">
            <ons-page id="login.html">
                <img src="img/kth-logo-1.png">
                <p>Welcome to KTH chat</p>
                <ons-button onclick="fn.load('chatRooms.html')">
                    login
                </ons-button>
            </ons-page>
        </ons-template>

        <ons-template id="chatRooms.html">
            <ons-page>

                <ons-list>
                    <ons-list-item>
                    </ons-list-item>
                </ons-list>
            </ons-page>
        </ons-template>

        <script>
        function showPage(page) {
            // jQuery returns an array of DOM objects, we want the first DOM object
            // which is the have that has the pushPage function.
            $('#appNavigator')[0].pushPage(page)
        }

        showLogIn = function() {
            var dialog = document.getElementById('login');

            if(dialog) {
                dialog.show;
            } else {
                ons.createElement('login.html', { append: true })
                    .then(function(dialog) {
                    dialog.show();
                });
            }
        }

        var hideDialog = function(id) {
            document.getElementById(id).hide();
        };




        window.fn = {};

        window.fn.open = function() {
            var menu = document.getElementById('menu');
            menu.open();
        };

        window.fn.load = function(page) {
            var content = document.getElementById('content');
            var menu = document.getElementById('menu');
            content.load(page).then(menu.close.bind(menu));
    }   ;
    </script>

    </body>
</html>
